(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/heroes.1f4b5508.png"},30:function(e,t,a){e.exports=a(63)},35:function(e,t,a){},54:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),o=(a(35),a(6)),u=a(10),s=a(1),i=a.n(s),m=a(7),p=a(2),f=a(8),d=a(26),E=a.n(d).a.create({baseURL:"http://localhost:3333"}),h=(a(54),a(9)),b=a.n(h),g=a(27),v=a.n(g);function O(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(u.f)();function s(){return(s=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,E.post("session",{id:a});case 4:n=e.sent,localStorage.setItem("ongId",a),localStorage.setItem("ongName",n.data.name),l.push("/profile"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Erro ao tentar realizar o login!");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"logon-container"},r.a.createElement("section",{className:"form"},r.a.createElement("img",{src:b.a,alt:"Logo"}),r.a.createElement("form",{onSubmit:function(e){return s.apply(this,arguments)}},r.a.createElement("h1",null,"Fa\xe7a seu login"),r.a.createElement("input",{placeholder:"Sua Id",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("button",{className:"button",type:"submit"},"Entrar"),r.a.createElement(o.b,{className:"back-link",to:"/register"},r.a.createElement(f.b,{size:16,color:"#e02041"}),"N\xe3o tenho cadastro"))),r.a.createElement("img",{src:v.a,alt:"Heroes"}))}a(60);function j(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(p.a)(l,2),d=s[0],h=s[1],g=Object(n.useState)(""),v=Object(p.a)(g,2),O=v[0],j=v[1],S=Object(n.useState)(""),y=Object(p.a)(S,2),C=y[0],k=y[1],x=Object(n.useState)(""),N=Object(p.a)(x,2),w=N[0],I=N[1],z=Object(u.f)();function D(){return(D=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:a,email:d,whatsapp:O,city:C,uf:w},e.prev=2,e.next=5,E.post("ongs",n);case 5:e.sent,alert("Cadastro realizado com sucesso!"),z.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Erro ao tentar realizar o cadastro!");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"register-container"},r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("img",{src:b.a,alt:"Logo"}),r.a.createElement("h1",null,"Cadastro"),r.a.createElement("p",null,"Fa\xe7a seu cadastro, entre na plataforma."),r.a.createElement(o.b,{className:"back-link",to:"/"},r.a.createElement(f.a,{size:16,color:"#e02041"}),"J\xe1 tenho cadastro")),r.a.createElement("form",{onSubmit:function(e){return D.apply(this,arguments)}},r.a.createElement("input",{placeholder:"Nome da Ong",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{type:"email",placeholder:"E-mail",value:d,onChange:function(e){return h(e.target.value)}}),r.a.createElement("input",{placeholder:"Whatsapp",value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{placeholder:"Cidade",value:C,onChange:function(e){return k(e.target.value)}}),r.a.createElement("input",{placeholder:"UF",value:w,onChange:function(e){return I(e.target.value)},style:{width:80}})),r.a.createElement("button",{className:"button"},"Registrar"))))}a(61);function S(){var e=Object(u.f)(),t=Object(n.useState)([]),a=Object(p.a)(t,2),c=a[0],l=a[1],s=localStorage.getItem("ongId"),d=localStorage.getItem("ongName");function h(){return(h=Object(m.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.delete("incidents/".concat(t),{headers:{Authorization:s}});case 3:l(c.filter((function(e){return e.id!==t}))),alert("Incidente excluido com sucesso."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Erro ao tentar excluir incidente!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function g(){return(g=Object(m.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.clear(),e.push("/");case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){E.get("profile",{headers:{Authorization:s}}).then((function(e){l(e.data)}))}),[s]),r.a.createElement("div",{className:"profile-container"},r.a.createElement("header",null,r.a.createElement("img",{src:b.a,alt:"Be The Hero"}),r.a.createElement("span",null,"Bem vindo, ",d),r.a.createElement(o.b,{className:"button",to:"/incidents/new"},"Cadastrar novo caso"),r.a.createElement("button",{onClick:function(){return function(){return g.apply(this,arguments)}()},type:"button"},r.a.createElement(f.c,{size:18,color:"#e02041"}))),r.a.createElement("h1",null,"Casos Cadastrados"),r.a.createElement("ul",null,c.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("strong",null,"CASO:"),r.a.createElement("p",null,e.title),r.a.createElement("strong",null,"DESCRI\xc7\xc3O:"),r.a.createElement("p",null,e.description),r.a.createElement("strong",null,"VALOR:"),r.a.createElement("p",null,Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.value)),r.a.createElement("button",{onClick:function(){return function(e){return h.apply(this,arguments)}(e.id)},type:"button"},r.a.createElement(f.d,{size:20,color:"#a8a8b3"})))}))))}a(62);function y(){var e=Object(u.f)(),t=localStorage.getItem("ongId"),a=Object(n.useState)(""),c=Object(p.a)(a,2),l=c[0],s=c[1],d=Object(n.useState)(""),h=Object(p.a)(d,2),g=h[0],v=h[1],O=Object(n.useState)(0),j=Object(p.a)(O,2),S=j[0],y=j[1];function C(){return(C=Object(m.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),r={title:l,description:g,value:S},a.prev=2,a.next=5,E.post("incidents",r,{headers:{Authorization:t}});case 5:alert("Incidente cadastrado com sucesso."),e.push("/profile"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),alert("Erro ao cadastrar incidente!");case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"new-incident"},r.a.createElement("div",{className:"content"},r.a.createElement("section",null,r.a.createElement("img",{src:b.a,alt:"Logo"}),r.a.createElement("h1",null,"Cadastrar novo caso"),r.a.createElement("p",null,"Descreva o caso para cadastro."),r.a.createElement(o.b,{className:"back-link",to:"/profile"},r.a.createElement(f.a,{size:16,color:"#e02041"}),"Voltar para o home")),r.a.createElement("form",{onSubmit:function(e){return C.apply(this,arguments)}},r.a.createElement("input",{placeholder:"T\xedtulo do cado",value:l,onChange:function(e){return s(e.target.value)}}),r.a.createElement("textarea",{placeholder:"Descri\xe7\xe3o",value:g,onChange:function(e){return v(e.target.value)}}),r.a.createElement("input",{placeholder:"Valor em reais",value:S,onChange:function(e){return y(e.target.value)}}),r.a.createElement("button",{className:"button",type:"submit"},"Cadastrar"))))}function C(){return r.a.createElement(o.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:O}),r.a.createElement(u.a,{path:"/register",component:j}),r.a.createElement(u.a,{path:"/profile",component:S}),r.a.createElement(u.a,{path:"/incidents/new",component:y})))}var k=function(){return r.a.createElement(C,null)};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a.p+"static/media/logo.7eea718b.svg"}},[[30,1,2]]]);
//# sourceMappingURL=main.0ee5f781.chunk.js.map